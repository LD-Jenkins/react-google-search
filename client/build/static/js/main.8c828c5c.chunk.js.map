{"version":3,"sources":["components/Grid/index.js","utils/API.js","pages/SavedBooksContainer.js","components/Nav/index.js","components/SaveBtn/index.js","components/List/index.js","components/Form/index.js","pages/SearchContainer.js","App.js","index.js"],"names":["Container","fluid","children","className","Row","justifyContent","Col","size","split","map","join","getBooks","axios","get","deleteBook","id","delete","saveBook","bookData","post","searchBooks","title","a","SavedBooksContainer","useState","savedBooks","setSavedBooks","useEffect","API","then","res","data","catch","err","console","log","length","book","key","_id","style","fontSize","authors","author","idx","arr","href","link","target","rel","type","onClick","src","image","maxWidth","maxHeight","alt","description","Nav","SaveBtn","props","tabIndex","float","List","ListItem","Input","FormBtn","SearchContainer","searchedBooks","setSearchedBooks","searchTitle","setSearchTitle","event","preventDefault","bookTitle","parentNode","firstChild","innerText","bookToSave","find","volumeInfo","imageLinks","thumbnail","infoLink","statusText","tempBooks","bookIdx","findIndex","wasClicked","name","placeholder","onChange","e","value","disabled","items","textAlign","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"8OAKO,SAASA,EAAT,GAAyC,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACjC,OAAO,yBAAKC,UAAS,mBAAcF,EAAQ,SAAW,KAAOC,GAIxD,SAASE,EAAT,GAAmD,IAApCH,EAAmC,EAAnCA,MAAOI,EAA4B,EAA5BA,eAAgBH,EAAY,EAAZA,SAC3C,OAAO,yBAAKC,UAAS,aAAQF,EAAQ,SAAW,GAA3B,YAAiCI,EAAjC,UAAyDH,GAKzE,SAASI,EAAT,GAAkC,IAAnBC,EAAkB,EAAlBA,KAAML,EAAY,EAAZA,SAC1B,OACE,yBACEC,UAAWI,EACRC,MAAM,KACNC,KAAI,SAAAF,GAAI,MAAI,OAASA,KACrBG,KAAK,MAEPR,G,6CCtBQ,GACbS,SAAU,WACR,OAAOC,IAAMC,IAAI,eAEnBC,WAAY,SAASC,GACnB,OAAOH,IAAMI,OAAO,cAAgBD,IAEtCE,SAAU,SAASC,GACjB,OAAON,IAAMO,KAAK,aAAcD,IAElCE,YAAY,WAAD,4BAAE,WAAeC,GAAf,SAAAC,EAAA,sEACEV,IAAMC,IAAN,iBAAoBQ,IADtB,mFAAF,mDAAC,IC2FCE,MAnGf,WAEE,MAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KAuBA,OAtBAC,qBAAU,WACRC,EAAIjB,WACDkB,MAAK,SAAAC,GACJJ,EAAcI,EAAIC,SAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC3B,IAiBD,kBAACjC,EAAD,CAAWC,OAAK,GACbwB,EAAWW,OACRX,EAAWhB,KAAI,SAAA4B,GAAI,OACnB,yBACElC,UAAU,iCACVmC,IAAKD,EAAKE,KACV,yBACEpC,UAAU,oCACV,kBAACG,EAAD,CAAKC,KAAM,KACT,6BACG8B,EAAKhB,OAER,yBACEmB,MAAO,CAACC,SAAU,WADpB,aAGGJ,EAAKK,QAAQN,OACVC,EAAKK,QAAQjC,KAAI,SAACkC,EAAQC,EAAKC,GAAd,OACfA,EAAIT,OAAS,IAAMQ,EACfD,EADJ,UAEOA,EAFP,SAKF,wBAGR,kBAACrC,EAAD,CAAKC,KAAK,KACR,8BACE,uBACEuC,KAAMT,EAAKU,KACXC,OAAO,SACPC,IAAI,uBACJ,4BACEC,KAAK,SACL/C,UAAU,gBAFZ,UAOJ,4BACE+C,KAAK,SACL/C,UAAU,iBACVgD,QAAS,kBAxDCpC,EAwDsBsB,EAAKE,SAvDnDX,EAAId,WAAWC,GACZc,MAAK,SAAAC,GACJI,QAAQC,IAAIL,GACZF,EAAIjB,WACDkB,MAAK,SAAAC,GACJJ,EAAcI,EAAIC,SAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SAE7BD,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAVL,IAAClB,IAqDZ,YAQJ,yBACEZ,UAAU,+BACV,yBACEA,UAAU,OACV,yBACEiD,IAAKf,EAAKgB,MACVb,MAAO,CAAEc,SAAU,QAASC,UAAW,SACvCC,IAAG,2BAAsBnB,EAAKhB,UAIlC,yBACElB,UAAU,yBACTkC,EAAKoB,YACFpB,EAAKoB,YACL,iCAMV,qCCvEKC,MAxBf,WACE,OACE,yBAAKvD,UAAU,iDACb,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,eAAe2C,KAAK,KAAjC,iBACA,yBAAK3C,UAAU,4BACb,wBAAIA,UAAU,cACZ,wBAAIA,UAAU,YACZ,uBAAGA,UAAU,WAAW2C,KAAK,KAA7B,iBAIF,wBAAI3C,UAAU,YACZ,uBAAGA,UAAU,WAAW2C,KAAK,UAA7B,yB,cCDCa,MAXf,SAAiBC,GACf,OACE,8BACE,0CAAQzD,UAAU,mBAAsByD,EAAxC,CAA+CC,SAAS,IAAIrB,MAAO,CAAEsB,MAAO,WAA5E,U,MCDC,SAASC,EAAT,GAA6B,IAAb7D,EAAY,EAAZA,SACrB,OACE,yBAAKC,UAAU,2BACb,wBAAIA,UAAU,cAAcD,IAK3B,SAAS8D,EAAT,GAAiC,IAAb9D,EAAY,EAAZA,SACzB,OAAO,wBAAIC,UAAU,mBAAmBD,GCTnC,SAAS+D,EAAML,GACpB,OACE,yCAAOzD,UAAU,gBAAmByD,IAYjC,SAASM,EAAQN,GACtB,OACE,0CAAQV,KAAK,SAAS/C,UAAU,oBAAoBqC,MAAO,CAACsB,MAAO,UAAcF,GAC9EA,EAAM1D,UCsFIiE,MArGjB,WAEE,MAA0C3C,mBAAS,IAAnD,mBAAO4C,EAAP,KAAsBC,EAAtB,KACA,EAAsC7C,mBAAS,IAA/C,mBAAO8C,EAAP,KAAoBC,EAApB,KAgBMtD,EAAQ,uCAAG,WAAOuD,GAAP,uBAAAlD,EAAA,6DACfkD,EAAMC,iBACAC,EAAYF,EAAMxB,OAAO2B,WAAWA,WAAWC,WAAWA,WAAWC,UAErEC,EAAaV,EAAcW,MAAK,SAAA1C,GAAI,OAAIA,EAAK2C,WAAW3D,QAAUqD,KAClExD,EAAW,CACfG,MAAOyD,EAAWE,WAAW3D,MAC7BqB,QAASoC,EAAWE,WAAWtC,QAAUoC,EAAWE,WAAWtC,QAAU,GACzEe,YAAaqB,EAAWE,WAAWvB,YAAcqB,EAAWE,WAAWvB,YAAc,GACrFJ,MAAOyB,EAAWE,WAAWC,WAAWC,UACxCnC,KAAM+B,EAAWE,WAAWG,UAVf,SAaQvD,EAAIX,SAASC,GAbrB,OAea,OAfb,OAeFkE,aACLC,EAD0B,YACVjB,GAChBkB,EAAUD,EAAUE,WAAU,SAAAlD,GAAI,OAAIA,EAAK2C,WAAW3D,QAAUH,EAASG,SAC/EgE,EAAUC,GAASE,YAAa,EAChCnB,EAAiBgB,IAnBJ,2CAAH,sDAwBd,OACE,kBAACrF,EAAD,CAAWC,OAAK,GACd,kBAACG,EAAD,CAAKC,eAAe,0BAClB,kBAACC,EAAD,CAAKC,KAAK,QACR,yBAAKJ,UAAU,oBACb,kBAAC8D,EAAD,CACEwB,KAAK,QACLC,YAAY,mBACZC,SAAU,SAACC,GAAD,OA9CCvE,EA8CoBuE,EAAE5C,OAAO6C,WA7ClDtB,EAAelD,GADK,IAACA,KAgDb,kBAAC6C,EAAD,CACE4B,UAAUxB,EAAYlC,OACtBe,QAAS,SAACyC,GAAD,OAAmBA,EA7ChCnB,sBACN7C,EAAIR,YAAYkD,GACbzC,MAAK,SAAAC,GAEJuC,EAAiBvC,EAAIC,KAAKgE,UAE3B/D,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAqCpB,mBASN,kBAAC7B,EAAD,KACE,kBAACE,EAAD,CAAKC,KAAK,cACP6D,EAAchC,OACb,kBAAC2B,EAAD,KACGK,EAAc3D,KAAI,SAAA4B,GAAI,OACrB,kBAAC2B,EAAD,CAAU1B,IAAKD,EAAKtB,IAClB,uBAAG+B,KAAMT,EAAK2C,WAAWG,UACvB,gCACG9C,EAAK2C,WAAW3D,MAAQgB,EAAK2C,WAAW3D,MAAQ,KAGrD,2CAEGgB,EAAK2C,WAAWtC,QACbL,EAAK2C,WAAWtC,QAAQjC,KAAI,SAACkC,EAAQC,EAAKC,GAAd,OAC1BA,EAAIT,OAAS,IAAMQ,EACfD,EADJ,UAEOA,EAFP,SAKF,uBAEN,kBAAC,EAAD,CACEQ,QAAS,SAACyC,GAAD,OAAO3E,EAAS2E,IACzBE,WAAUzD,EAAKmD,kBAMvB,wBAAIhD,MAAO,CAACwD,UAAW,WAAvB,yDC3EGC,MAlBf,WACE,OACE,kBAAC,IAAD,KACE,6BACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAM,CAAC,IAAK,WACvB,kBAAC,EAAD,OAEF,kBAAC,IAAD,KACE,kBAAC,EAAD,WCZZC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.8c828c5c.chunk.js","sourcesContent":["import React from \"react\";\n\n// Exporting the Container, Row, and Col components from this file\n\n// This Container component allows us to use a bootstrap container without worrying about class names\nexport function Container({ fluid, children }) {\n  return <div className={`container${fluid ? \"-fluid\" : \"\"}`}>{children}</div>;\n}\n\n// This Row component lets us use a bootstrap row without having to think about class names\nexport function Row({ fluid, justifyContent, children }) {\n  return <div className={`row${fluid ? \"-fluid\" : \"\"} ${justifyContent} mt-4`}>{children}</div>;\n}\n\n// This Col component lets us size bootstrap columns with less syntax\n// e.g. <Col size=\"md-12\"> instead of <div className=\"col-md-12\">\nexport function Col({ size, children }) {\n  return (\n    <div\n      className={size\n        .split(\" \")\n        .map(size => \"col-\" + size)\n        .join(\" \")}\n    >\n      {children}\n    </div>\n  );\n}\n","import axios from \"axios\";\n\nexport default {\n  getBooks: function() {\n    return axios.get(\"/api/books\");\n  },  \n  deleteBook: function(id) {\n    return axios.delete(\"/api/books/\" + id);\n  },\n  saveBook: function(bookData) {\n    return axios.post(\"/api/books\", bookData);\n  },\n  searchBooks: async function(title) {\n    return await axios.get(`/proxy/${title}`);\n  }\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Col, Container } from \"../components/Grid\";\nimport API from \"../utils/API\";\n\nfunction SavedBooksContainer() {\n\n  const [savedBooks, setSavedBooks] = useState([]);\n  useEffect(() => {\n    API.getBooks()\n      .then(res => {\n        setSavedBooks(res.data);\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  const deleteBtnClicked = (id) => {\n    API.deleteBook(id)\n      .then(res => {\n        console.log(res);\n        API.getBooks()\n          .then(res => {\n            setSavedBooks(res.data);\n          })\n          .catch(err => console.log(err));\n      })\n      .catch(err => console.log(err));\n  }\n\n\n  return (\n    <Container fluid>\n      {savedBooks.length\n        ? savedBooks.map(book => (\n          <div\n            className=\"row m-4 p-2 border border-dark\"\n            key={book._id}>\n            <div\n              className=\"row justify-content-between mb-3\">\n              <Col size= \"4\">\n                <div>\n                  {book.title}\n                </div>\n                <div\n                  style={{fontSize: \".75rem\"}}>\n                  &nbsp;by&nbsp;\n                  {book.authors.length\n                    ? book.authors.map((author, idx, arr) => (\n                        arr.length - 1 === idx\n                          ? author\n                          : `${author}, `\n                        )\n                      )\n                    : '(No Authors Listed)'}\n                </div>\n              </Col>\n              <Col size=\"3\">\n                <span>\n                  <a\n                    href={book.link}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-info\">\n                      View\n                    </button>\n                  </a>\n                </span>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-danger\"\n                  onClick={() => deleteBtnClicked(book._id)}>\n                  Delete\n                </button>\n              </Col>\n            </div>\n            <div\n              className=\"row justify-content-between\">\n              <div\n                className=\"col\">\n                <img\n                  src={book.image}\n                  style={{ maxWidth: \"200px\", maxHeight: \"325px\" }}\n                  alt={`Volume cover for ${book.title}`}>\n                </img>\n              </div>\n              \n              <div\n                className=\"col align-self-center\">\n                {book.description\n                  ? book.description\n                  : \"No description provided.\"}\n              </div>\n            </div>\n          </div>\n        )\n        )\n        : \"You haven't saved any books yet!\"\n      }\n    </Container>\n  );\n}\n\nexport default SavedBooksContainer;\n","import React from \"react\";\n\nfunction Nav() {\n  return (\n    <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n      <div className=\"container-fluid\">\n        <a className=\"navbar-brand\" href=\"/\">Search & Save</a>\n        <div className=\"collapse navbar-collapse\">\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"/\">\n                Search Books\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"/saved\">\n                See Saved Books\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Nav;\n","import React from \"react\";\nimport \"./style.css\";\n\nfunction SaveBtn(props) {\n  return (\n    <span>\n      <button className=\"btn btn-success\" {...props} tabIndex=\"0\" style={{ float: \"right\" }}>\n        SAVE\n      </button>\n    </span>\n\n  );\n}\n\nexport default SaveBtn;\n","import React from \"react\";\nimport \"./style.css\";\n\n// This file exports both the List and ListItem components\n\nexport function List({ children }) {\n  return (\n    <div className=\"list-overflow-container\">\n      <ul className=\"list-group\">{children}</ul>\n    </div>\n  );\n}\n\nexport function ListItem({ children }) {\n  return <li className=\"list-group-item\">{children}</li>;\n}\n","import React from \"react\";\n\n\n// This file exports the Input, TextArea, and FormBtn components\n\nexport function Input(props) {\n  return (\n    <input className=\"form-control\" {...props} />\n  );\n}\n\nexport function TextArea(props) {\n  return (\n    <div className=\"form-group\">\n      <textarea className=\"form-control\" rows=\"20\" {...props} />\n    </div>\n  );\n}\n\nexport function FormBtn(props) {\n  return (\n    <button type=\"button\" className=\"btn btn-secondary\" style={{float: \"right\"}} {...props}>\n      {props.children}\n    </button>\n  );\n}\n","import React, { useState } from \"react\";\nimport SaveBtn from \"../components/SaveBtn\";\nimport API from \"../utils/API\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, FormBtn } from \"../components/Form\";\n\nfunction SearchContainer() {\n\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  const [searchTitle, setSearchTitle] = useState('');\n\n  const onInputChange = (title) => {\n    setSearchTitle(title);\n  };\n\n  const searchBooks = (event) => {\n    event.preventDefault();\n    API.searchBooks(searchTitle)\n      .then(res => {\n        // console.log(res.data.items);\n        setSearchedBooks(res.data.items);\n      })\n      .catch(err => console.log(err));\n  };\n\n  const saveBook = async (event) => {\n    event.preventDefault();\n    const bookTitle = event.target.parentNode.parentNode.firstChild.firstChild.innerText;\n    // console.log(event.target.parentNode);\n    const bookToSave = searchedBooks.find(book => book.volumeInfo.title === bookTitle);\n    const bookData = {\n      title: bookToSave.volumeInfo.title,\n      authors: bookToSave.volumeInfo.authors ? bookToSave.volumeInfo.authors : [],\n      description: bookToSave.volumeInfo.description ? bookToSave.volumeInfo.description : '',\n      image: bookToSave.volumeInfo.imageLinks.thumbnail,\n      link: bookToSave.volumeInfo.infoLink,\n    }\n\n    const response = await API.saveBook(bookData);\n\n    if (response.statusText === \"OK\") {\n      const tempBooks = [...searchedBooks];\n      const bookIdx = tempBooks.findIndex(book => book.volumeInfo.title === bookData.title);\n      tempBooks[bookIdx].wasClicked = true;\n      setSearchedBooks(tempBooks);\n      // console.log(searchedBooks);\n    }\n  };\n\n  return (\n    <Container fluid>\n      <Row justifyContent=\"justify-content-center\">\n        <Col size=\"md-6\">\n          <div className=\"input-group mb-3\">\n            <Input\n              name=\"title\"\n              placeholder=\"Title (required)\"\n              onChange={(e) => onInputChange(e.target.value)}\n            />\n            <FormBtn\n              disabled={searchTitle.length ? false : true}\n              onClick={(e) => searchBooks(e)}\n            >\n              Search Title\n            </FormBtn>\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col size=\"xs-6 xs-12\">\n          {searchedBooks.length ? (\n            <List>\n              {searchedBooks.map(book => (\n                <ListItem key={book.id}>\n                  <a href={book.volumeInfo.infoLink}>\n                    <strong>\n                      {book.volumeInfo.title ? book.volumeInfo.title : ''}\n                    </strong>\n                  </a>\n                  <span>\n                    &nbsp;by&nbsp;\n                    {book.volumeInfo.authors\n                      ? book.volumeInfo.authors.map((author, idx, arr) => (\n                          arr.length - 1 === idx\n                            ? author\n                            : `${author}, `\n                          )\n                        )\n                      : '(No Authors Listed)'}\n                  </span>\n                  <SaveBtn\n                    onClick={(e) => saveBook(e)}\n                    disabled={book.wasClicked ? true : false}\n                  />\n                </ListItem>\n              ))}\n            </List>\n          ) : (\n            <h3 style={{textAlign: \"center\"}}>Searching a book title will display results here!</h3>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\n\n  export default SearchContainer;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport SavedBooksContainer from \"./pages/SavedBooksContainer\";\nimport Nav from \"./components/Nav\";\nimport SearchContainer from \"./pages/SearchContainer\";\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        <Nav />\n        <Switch>\n          <Route exact path={[\"/\", \"/books\"]}>\n            <SearchContainer />\n          </Route>\n          <Route>\n            <SavedBooksContainer />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}